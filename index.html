<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Wynagrodzeń 2025</title>
    
    <!-- Dołączenie Reacta i ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Dołączenie Babela do tłumaczenia kodu w przeglądarce -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Dołączenie Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- Komponenty Ikon ---
        const IconWrapper = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Icons = {
            Calculator: (props) => <IconWrapper {...props}><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></IconWrapper>,
            Coins: (props) => <IconWrapper {...props}><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></IconWrapper>,
            Briefcase: (props) => <IconWrapper {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconWrapper>,
            UserCheck: (props) => <IconWrapper {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><polyline points="16 11 18 13 22 9"/></IconWrapper>,
            AlertCircle: (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></IconWrapper>,
            Info: (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconWrapper>,
            ArrowRightLeft: (props) => <IconWrapper {...props}><path d="m16 3 4 4-4 4"/><path d="M20 7H4"/><path d="m8 21-4-4 4-4"/><path d="M4 17h16"/></IconWrapper>,
            GraduationCap: (props) => <IconWrapper {...props}><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></IconWrapper>,
            Building2: (props) => <IconWrapper {...props}><path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/><path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/></IconWrapper>,
            HeartPulse: (props) => <IconWrapper {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/><path d="M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"/></IconWrapper>,
            Ambulance: (props) => <IconWrapper {...props}><path d="M10 10H6"/><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.68-.94l-4.03-1.34a1 1 0 0 0-1.29 1.24v2.32a2 2 0 0 0 2 2"/><circle cx="9" cy="18" r="2"/><circle cx="16" cy="18" r="2"/></IconWrapper>
        };

        const SalaryCalculator = () => {
          // Stan aplikacji
          const [amount, setAmount] = useState(10000);
          const [inputType, setInputType] = useState('gross'); 
          
          // Parametry
          const [isUnder26, setIsUnder26] = useState(false);
          const [isStudent, setIsStudent] = useState(false); 
          const [hasOtherJob, setHasOtherJob] = useState(false); 
          const [isSicknessInsurance, setIsSicknessInsurance] = useState(false); 
          const [accidentRate, setAccidentRate] = useState(1.67); 
          const [b2bCosts, setB2bCosts] = useState(''); 
          const [b2bZusType, setB2bZusType] = useState('full'); 

          // Stałe podatkowe (2025)
          const CONSTANTS = {
            minWage: 4626, // Prognoza 2025 (styczeń)
            zus: {
              emerytalne: 0.0976,
              rentowe: 0.015,
              chorobowe: 0.0245,
              zdrowotne: 0.09,
            },
            tax: {
              scaleRate: 0.12,    // Pierwszy próg
              secondRate: 0.32,   // Drugi próg
              scaleThreshold: 120000,
              linearRate: 0.19,
              kupZlecenie: 0.20,
              kupDzielo: 0.20,
              kupUoP: 250,     
              kwotaWolnaRoczna: 3600, // 300 miesięcznie * 12
            },
            b2b: {
              bases: {
                full: 4694.40,      
                preference: 1387.80, // 30% z 4626
                start: 0            
              },
              rates: {
                pension: 0.1952,
                disability: 0.08,
                laborFund: 0.0245,
                sickness: 0.0245,
              },
              healthBaseLinear: 0.049,
              healthBaseScale: 0.09,
            }
          };

          // --- Pomocnicza funkcja podatkowa (Progresywna / Skala) ---
          // Oblicza podatek średniomiesięczny uwzględniając roczny próg 120k
          const calculateProgressiveTaxAverage = (monthlyTaxBase, isUnder26) => {
             if (isUnder26) {
                 // Uproszczenie dla młodych: zwolnienie do 85 528 zł.
                 // Nadwyżka opodatkowana 12%, a powyżej 120k (łącznie z ulgą) wchodzi 32%.
                 // Tu dla prostoty przyjmiemy podatek 0, jeśli dochód roczny < 85k,
                 // ale dla wysokich kwot to bardziej złożone.
                 // W tym kalkulatorze skupiamy się na naprawie progu dla standardowego pracownika.
                 return 0; 
             }

             const annualIncome = monthlyTaxBase * 12;
             let annualTax = 0;

             if (annualIncome <= CONSTANTS.tax.scaleThreshold) {
                 // Całość w pierwszym progu
                 annualTax = (annualIncome * CONSTANTS.tax.scaleRate) - CONSTANTS.tax.kwotaWolnaRoczna;
             } else {
                 // Przekroczenie progu
                 const taxFirstBracket = (CONSTANTS.tax.scaleThreshold * CONSTANTS.tax.scaleRate) - CONSTANTS.tax.kwotaWolnaRoczna;
                 const excess = annualIncome - CONSTANTS.tax.scaleThreshold;
                 const taxSecondBracket = excess * CONSTANTS.tax.secondRate;
                 annualTax = taxFirstBracket + taxSecondBracket;
             }

             return Math.max(0, annualTax / 12);
          };

          // --- Funkcje Obliczeniowe ---

          const calculateUoP = (gross) => {
            const zusEmerytalne = gross * CONSTANTS.zus.emerytalne;
            const zusRentowe = gross * CONSTANTS.zus.rentowe;
            const zusChorobowe = gross * CONSTANTS.zus.chorobowe; 
            const socialContrib = zusEmerytalne + zusRentowe + zusChorobowe;

            const healthBase = gross - socialContrib;
            const zusZdrowotne = healthBase * CONSTANTS.zus.zdrowotne;

            const taxBase = Math.round(healthBase - CONSTANTS.tax.kupUoP);
            
            // Używamy nowej logiki progresywnej
            const tax = Math.round(calculateProgressiveTaxAverage(taxBase, isUnder26));

            const net = gross - socialContrib - zusZdrowotne - tax;

            return {
              type: 'Umowa o pracę',
              gross: gross,
              net: net,
              zus: socialContrib + zusZdrowotne,
              pit: tax,
              details: {
                social: socialContrib,
                health: zusZdrowotne
              }
            };
          };

          const calculateZlecenie = (gross) => {
            let base = gross;
            let zusEmerytalne = 0;
            let zusRentowe = 0;
            let zusChorobowe = 0; 
            let zusZdrowotne = 0;
            let tax = 0;

            const isZusExempt = isStudent && isUnder26;

            if (!isZusExempt) {
                if (!hasOtherJob) {
                    zusEmerytalne = base * CONSTANTS.zus.emerytalne;
                    zusRentowe = base * CONSTANTS.zus.rentowe;
                    if (isSicknessInsurance) {
                        zusChorobowe = base * CONSTANTS.zus.chorobowe;
                    }
                }
            }

            const socialContrib = zusEmerytalne + zusRentowe + zusChorobowe;
            const healthBase = base - socialContrib;

            if (!isZusExempt) {
                zusZdrowotne = healthBase * CONSTANTS.zus.zdrowotne;
            }

            // PIT (Zlecenie też jest na skali!)
            const kupBase = healthBase; 
            const kup = kupBase * CONSTANTS.tax.kupZlecenie;
            const taxBase = Math.round(healthBase - kup);
            
            tax = Math.round(calculateProgressiveTaxAverage(taxBase, isUnder26));

            const net = base - socialContrib - zusZdrowotne - tax;

            return {
              type: 'Umowa zlecenie',
              gross: base,
              net: net,
              zus: socialContrib + zusZdrowotne,
              pit: tax,
              details: {
                social: socialContrib,
                health: zusZdrowotne
              }
            };
          };

          const calculateDzielo = (gross) => {
            // Umowa o dzieło też jest na skali
            const kupRate = 0.20; 
            const kup = gross * kupRate;
            const taxBase = Math.round(gross - kup);
            
            const tax = Math.round(calculateProgressiveTaxAverage(taxBase, false)); // Dzieło nie ma ulgi dla młodych

            const net = gross - tax;

            return {
              type: 'Umowa o dzieło',
              gross: gross,
              net: net,
              zus: 0,
              pit: tax,
              details: {
                social: 0,
                health: 0
              }
            };
          };

          const calculateB2B = (grossInvoice) => {
            let base = 0;
            let payLaborFund = false;

            if (b2bZusType === 'full') {
                base = CONSTANTS.b2b.bases.full;
                payLaborFund = true;
            } else if (b2bZusType === 'preference') {
                base = CONSTANTS.b2b.bases.preference;
                payLaborFund = false; 
            } else {
                base = 0; 
            }

            const currentAccidentRate = accidentRate === '' ? 0 : accidentRate;
            const currentCosts = b2bCosts === '' ? 0 : b2bCosts;

            const pension = base * CONSTANTS.b2b.rates.pension;
            const disability = base * CONSTANTS.b2b.rates.disability;
            const accident = base * (currentAccidentRate / 100); 
            const laborFund = payLaborFund ? (base * CONSTANTS.b2b.rates.laborFund) : 0;
            const sickness = isSicknessInsurance ? (base * CONSTANTS.b2b.rates.sickness) : 0;

            const socialZus = pension + disability + accident + laborFund + sickness;

            const income = grossInvoice - currentCosts - socialZus;
            
            let healthZus = Math.max(381, income * CONSTANTS.b2b.healthBaseScale); // Na skali 9%
            if (income < 0) healthZus = 381;

            const taxBase = Math.round(income); 
            
            // Podatek B2B Skala
            const tax = Math.round(calculateProgressiveTaxAverage(taxBase, false)); // Przedsiębiorca nie ma ulgi dla młodych (zazwyczaj)

            const net = grossInvoice - socialZus - healthZus - tax - currentCosts;

            return {
              type: 'B2B (Skala 12%/32%)',
              gross: grossInvoice,
              net: net,
              zus: socialZus + healthZus,
              pit: tax,
              details: {
                social: socialZus,
                health: healthZus
              }
            };
          };

          // --- Solver dla Netto -> Brutto ---
          const findGrossFromNet = (targetNet, calculationFunction) => {
            let low = targetNet;
            let high = targetNet * 2.5; 
            let attempts = 0;
            let result = null;

            while (attempts < 30) {
              const mid = (low + high) / 2;
              result = calculationFunction(mid);
              
              if (Math.abs(result.net - targetNet) < 1) {
                return mid;
              }
              
              if (result.net < targetNet) {
                low = mid;
              } else {
                high = mid;
              }
              attempts++;
            }
            return (low + high) / 2;
          };

          const results = useMemo(() => {
            const safeAmount = amount === '' ? 0 : amount;
            
            let grossAmounts = {
              uop: safeAmount,
              zlecenie: safeAmount,
              dzielo: safeAmount,
              b2b: safeAmount
            };

            if (inputType === 'net') {
              grossAmounts.uop = findGrossFromNet(safeAmount, calculateUoP);
              grossAmounts.zlecenie = findGrossFromNet(safeAmount, calculateZlecenie);
              grossAmounts.dzielo = findGrossFromNet(safeAmount, calculateDzielo);
              grossAmounts.b2b = findGrossFromNet(safeAmount, calculateB2B);
            }

            return {
              uop: calculateUoP(grossAmounts.uop),
              zlecenie: calculateZlecenie(grossAmounts.zlecenie),
              dzielo: calculateDzielo(grossAmounts.dzielo),
              b2b: calculateB2B(grossAmounts.b2b)
            };
          }, [amount, inputType, isUnder26, isStudent, hasOtherJob, b2bCosts, b2bZusType, isSicknessInsurance, accidentRate]);

          const formatPLN = (val) => new Intl.NumberFormat('pl-PL', { style: 'currency', currency: 'PLN', maximumFractionDigits: 0 }).format(val);

          const handleNumberChange = (setter) => (e) => {
            const val = e.target.value;
            setter(val === '' ? '' : Number(val));
          };

          return (
            <div className="max-w-6xl mx-auto p-4 md:p-6 min-h-screen font-sans text-slate-800">
              
              {/* Header */}
              <div className="mb-8 text-center">
                <h1 className="text-3xl font-bold text-blue-900 flex items-center justify-center gap-3">
                  <Icons.Calculator className="w-8 h-8" />
                  Kalkulator Wynagrodzeń 2025
                </h1>
                <p className="text-slate-500 mt-2">Porównanie: Umowa o Pracę, Zlecenie, Dzieło i B2B (Skala)</p>
                <p className="text-xs text-slate-400 mt-1">*Wyniki to średnia miesięczna uwzględniająca roczny próg podatkowy (32% pow. 120 tys. zł)</p>
              </div>

              {/* Input Section */}
              <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  
                  {/* Main Input */}
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">
                      Wprowadź kwotę (PLN)
                    </label>
                    <div className="relative">
                      <input 
                        type="number" 
                        value={amount} 
                        onChange={handleNumberChange(setAmount)}
                        className="w-full text-2xl font-bold p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none pl-4"
                        placeholder="0"
                      />
                      <span className="absolute right-4 top-4 text-slate-400 font-medium">PLN</span>
                    </div>

                    <div className="flex bg-slate-100 p-1 rounded-lg mt-4">
                      <button 
                        onClick={() => setInputType('gross')}
                        className={`flex-1 py-2 text-sm font-medium rounded-md transition-all ${inputType === 'gross' ? 'bg-white shadow text-blue-700' : 'text-slate-500 hover:text-slate-700'}`}
                      >
                        Kwota Brutto
                      </button>
                      <button 
                        onClick={() => setInputType('net')}
                        className={`flex-1 py-2 text-sm font-medium rounded-md transition-all ${inputType === 'net' ? 'bg-white shadow text-blue-700' : 'text-slate-500 hover:text-slate-700'}`}
                      >
                        Kwota Netto
                      </button>
                    </div>
                    
                    {inputType === 'net' && (
                       <div className="mt-2 text-xs text-amber-600 flex items-center gap-1">
                         <Icons.Info className="w-3 h-3" />
                         Obliczenie przybliżonej kwoty brutto potrzebnej do uzyskania tego netto.
                       </div>
                    )}
                  </div>

                  {/* Configuration */}
                  <div className="space-y-3">
                    <h3 className="text-sm font-semibold text-slate-700 border-b pb-2">Parametry</h3>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                        {/* Age */}
                        <label className="flex items-center justify-between cursor-pointer group hover:bg-slate-50 p-1 rounded transition-colors">
                        <span className="text-slate-600 flex items-center gap-2">
                            <Icons.UserCheck className="w-4 h-4 text-blue-600" /> 
                            <div className="flex flex-col">
                            <span className="text-sm font-medium">Wiek poniżej 26 lat</span>
                            <span className="text-[10px] text-slate-400 font-normal">Ulga dla młodych (PIT 0%)</span>
                            </div>
                        </span>
                        <input 
                            type="checkbox" 
                            checked={isUnder26} 
                            onChange={(e) => setIsUnder26(e.target.checked)}
                            className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" 
                        />
                        </label>

                        {/* Student */}
                        <label className="flex items-center justify-between cursor-pointer group hover:bg-slate-50 p-1 rounded transition-colors">
                        <span className="text-slate-600 flex items-center gap-2">
                            <Icons.GraduationCap className="w-4 h-4 text-blue-600" /> 
                            <div className="flex flex-col">
                                <span className="text-sm font-medium">Status studenta</span>
                                <span className="text-[10px] text-slate-400 font-normal">
                                    Brak ZUS przy zleceniu
                                </span>
                            </div>
                        </span>
                        <input 
                            type="checkbox" 
                            checked={isStudent} 
                            onChange={(e) => setIsStudent(e.target.checked)}
                            className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" 
                        />
                        </label>

                        {/* Sickness Insurance */}
                        <label className="flex items-center justify-between cursor-pointer group hover:bg-slate-50 p-1 rounded transition-colors">
                        <span className="text-slate-600 flex items-center gap-2">
                            <Icons.HeartPulse className="w-4 h-4 text-rose-500" /> 
                            <div className="flex flex-col">
                                <span className="text-sm font-medium">Dobrowolne chorobowe</span>
                                <span className="text-[10px] text-slate-400 font-normal">
                                    Dla Zlecenia i B2B
                                </span>
                            </div>
                        </span>
                        <input 
                            type="checkbox" 
                            checked={isSicknessInsurance} 
                            onChange={(e) => setIsSicknessInsurance(e.target.checked)}
                            className="w-5 h-5 text-rose-500 rounded focus:ring-rose-500" 
                        />
                        </label>

                        {/* Other Job */}
                        <label className="flex items-center justify-between cursor-pointer group hover:bg-slate-50 p-1 rounded transition-colors">
                        <span className="text-slate-600 flex items-center gap-2">
                            <Icons.Briefcase className="w-4 h-4 text-blue-600" /> 
                            <div className="flex flex-col">
                            <span className="text-sm font-medium">Inny pracodawca</span>
                            <span className="text-[10px] text-slate-400 font-normal">Płacisz tylko zdrowotną (Zlec.)</span>
                            </div>
                        </span>
                        <input 
                            type="checkbox" 
                            checked={hasOtherJob} 
                            onChange={(e) => setHasOtherJob(e.target.checked)}
                            className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" 
                        />
                        </label>
                    </div>

                     {/* B2B Config */}
                     <div className="pt-2 border-t mt-2">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div className="flex-1">
                                <span className="text-xs text-slate-500 font-medium block mb-1">Rodzaj ZUS</span>
                                <select 
                                    value={b2bZusType}
                                    onChange={(e) => setB2bZusType(e.target.value)}
                                    className="w-full text-sm border rounded p-1.5 bg-white outline-none focus:ring-1 focus:ring-blue-300"
                                >
                                    <option value="full">Duży ZUS</option>
                                    <option value="preference">Preferencyjny</option>
                                    <option value="start">Ulga na start</option>
                                </select>
                            </div>
                            <div className="flex-1">
                                <span className="text-xs text-slate-500 font-medium block mb-1">Koszty</span>
                                <input 
                                    type="number"
                                    value={b2bCosts}
                                    onChange={handleNumberChange(setB2bCosts)}
                                    className="w-full text-sm border rounded p-1.5 text-right outline-none focus:ring-1 focus:ring-blue-300"
                                    placeholder="0"
                                />
                            </div>
                            <div className="flex-1 relative">
                                <span className="text-xs text-slate-500 font-medium block mb-1 flex items-center gap-1">
                                     Wypadkowe (%)
                                     <Icons.Ambulance className="w-3 h-3 text-red-400" />
                                </span>
                                <input 
                                    type="number"
                                    step="0.01"
                                    value={accidentRate}
                                    onChange={handleNumberChange(setAccidentRate)}
                                    className="w-full text-sm border rounded p-1.5 text-right outline-none focus:ring-1 focus:ring-blue-300"
                                    placeholder="1.67"
                                />
                            </div>
                        </div>
                     </div>

                  </div>
                </div>
              </div>

              {/* Results Grid */}
              <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
                
                {/* UoP Card */}
                <ResultCard 
                  result={results.uop} 
                  icon={<Icons.Building2 className="w-5 h-5 text-indigo-600" />}
                  colorClass="border-indigo-200 bg-indigo-50/50"
                  titleClass="text-indigo-800"
                  badge="Etat"
                />

                {/* Zlecenie Card */}
                <ResultCard 
                  result={results.zlecenie} 
                  icon={<Icons.Coins className="w-5 h-5 text-emerald-600" />}
                  colorClass="border-emerald-200 bg-emerald-50/50"
                  titleClass="text-emerald-800"
                  badge="Umowa Cywilnoprawna"
                />

                {/* Dzielo Card */}
                <ResultCard 
                  result={results.dzielo} 
                  icon={<Icons.Briefcase className="w-5 h-5 text-purple-600" />}
                  colorClass="border-purple-200 bg-purple-50/50"
                  titleClass="text-purple-800"
                  badge="Przekazanie Dzieła"
                />

                {/* B2B Card */}
                <ResultCard 
                  result={results.b2b} 
                  icon={<Icons.ArrowRightLeft className="w-5 h-5 text-blue-600" />}
                  colorClass="border-blue-200 bg-blue-50/50"
                  titleClass="text-blue-800"
                  badge="Samozatrudnienie"
                />

              </div>

              {/* Summary / Analysis */}
              <div className="mt-8 bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                <h3 className="text-lg font-bold text-slate-800 mb-4">Wnioski i Porównanie</h3>
                <ul className="space-y-3 text-sm text-slate-600">
                     <li className="flex items-start gap-2">
                        <Icons.AlertCircle className="w-4 h-4 text-indigo-500 mt-1 shrink-0" />
                        <span>
                            <strong>Umowa o Pracę:</strong> Ubezpieczenie chorobowe jest tu obowiązkowe (2.45%), co daje prawo do płatnego zwolnienia lekarskiego (L4). Składkę wypadkową w całości płaci pracodawca, więc nie wpływa na Twoje netto.
                        </span>
                    </li>
                    <li className="flex items-start gap-2">
                        <Icons.HeartPulse className="w-4 h-4 text-rose-500 mt-1 shrink-0" />
                        <span>
                            <strong>Chorobowe (Zlecenie/B2B):</strong>
                            {isSicknessInsurance 
                             ? ' Zaznaczyłeś dobrowolne ubezpieczenie chorobowe. Twoje netto jest niższe, ale masz prawo do płatnego L4 (po okresie wyczekiwania).'
                             : ' Nie zaznaczyłeś ubezpieczenia chorobowego. Twoje netto jest wyższe, ale w razie choroby nie otrzymasz zasiłku (L4).'}
                        </span>
                    </li>
                    <li className="flex items-start gap-2">
                        <Icons.AlertCircle className="w-4 h-4 text-blue-500 mt-1 shrink-0" />
                        <span>
                            <strong>B2B (Skala):</strong> Na zasadach ogólnych płacisz 9% zdrowotnej (nieodliczalnej) oraz podatek według skali (12% do 120 tys. zł, 32% powyżej).
                        </span>
                    </li>
                </ul>
              </div>

            </div>
          );
        };

        const ResultCard = ({ result, icon, colorClass, titleClass, badge }) => {
            const formatPLN = (val) => new Intl.NumberFormat('pl-PL', { style: 'currency', currency: 'PLN', maximumFractionDigits: 0 }).format(val);
            
            return (
                <div className={`rounded-xl border shadow-sm p-4 flex flex-col h-full bg-white transition-all hover:shadow-md relative overflow-hidden`}>
                    <div className={`absolute top-0 left-0 w-full h-1 ${colorClass.replace('bg-', 'bg-').replace('/50', '')}`}></div>

                    <div className="flex justify-between items-start mb-3">
                        <div>
                            <span className="text-[10px] font-bold uppercase tracking-wider text-slate-400 block mb-1">{badge}</span>
                            <h2 className={`text-base font-bold ${titleClass} flex items-center gap-2 truncate`}>
                                {icon}
                                <span className="truncate">{result.type}</span>
                            </h2>
                        </div>
                    </div>

                    <div className="mb-4 text-center py-3 rounded-lg bg-slate-50 border border-slate-100">
                        <p className="text-[10px] text-slate-500 font-medium uppercase tracking-wide mb-1">Kwota Netto (Na rękę)</p>
                        <p className={`text-2xl font-extrabold ${titleClass}`}>
                            {formatPLN(result.net)}
                        </p>
                    </div>

                    <div className="space-y-2 text-xs flex-1">
                        <div className="flex justify-between items-center text-slate-600 py-1 border-b border-slate-100">
                            <span>Brutto/Faktura:</span>
                            <span className="font-semibold">{formatPLN(result.gross)}</span>
                        </div>
                        
                        <div className="flex justify-between items-center text-slate-500 py-1 border-b border-slate-100">
                            <span>Składki społeczne:</span>
                            <span className="font-semibold text-slate-700">-{formatPLN(result.details.social)}</span>
                        </div>

                        <div className="flex justify-between items-center text-slate-500 py-1 border-b border-slate-100">
                            <span>Składka zdrowotna:</span>
                            <span className="font-semibold text-slate-700">-{formatPLN(result.details.health)}</span>
                        </div>

                        <div className="flex justify-between items-center text-slate-500 py-1 border-b border-slate-100">
                            <span>Zaliczka PIT:</span>
                            <span className="font-semibold text-slate-700">-{formatPLN(result.pit)}</span>
                        </div>
                    </div>

                    <div className="mt-3 pt-2 text-[10px] text-center text-slate-400">
                        Podatki i ZUS łącznie: {Math.round(((result.zus + result.pit) / result.gross) * 100)}%
                    </div>
                </div>
            );
        };

        // Renderowanie aplikacji
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SalaryCalculator />);
    </script>
</body>
</html>
